if npx lint-staged; then
  echo "Lint-staged passed. Running build..."
  # Check if yarn.lock exists and run the appropriate package manager
  if [ -f yarn.lock ]; then
    echo "yarn.lock found. Running 'yarn install'."
    nest build
  else
    echo "yarn.lock not found. Running 'npm install'."
    nest build
  fi
else
  echo "Lint-staged failed. Skipping build."
  exit 1
fi